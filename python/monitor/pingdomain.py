# -*- coding: utf-8 -*-
from common import db_ops
from common import httputil
import os
import re
import sys
reload(sys)
sys.setdefaultencoding('utf8')
reg = re.compile(
    r"rtt min/avg/max/mdev = ([0-9\.]+)/([0-9\.]+)/([0-9\.]+)")

domainList=['05ef7158c0157121128654e364dad7d1.cy1234.xyz',
'1.fahai309.club',
'1.guiji365.com',
'100.jp255.com',
'100.jp277.com',
'104.233.234.88',
'105.jp255.com',
'105.jp277.com',
'11.fahai309.club',
'113.209.119.3',
'120.52.51.99',
'1251883823.vod2.myqcloud.com',
'135zyv4.xw0371.com',
'135zyv5.xw0371.com',
'135zyv6.xw0371.com',
'156zy.suboyouku.com',
'156zy.suyunbo.tv',
'163.com-l-163.com',
'163.com-www-letv.com',
'195.154.62.166',
'1p-3.us-gov.top',
'2.fahai53.club',
'201.jp255.com',
'202.jp277.com',
'208.77.44.249',
'3.fahai53.club',
'3.fahai56.club',
'4.fahai53.club',
'502.jp255.com',
'502.jp277.com',
'52dy.hanju2017.com',
'56.com-t-56.com',
'60.217.240.166',
'605-zy.com',
'605pan.www605zy.com',
'605ziyuan.com',
'67.229.33.139',
'991video.com',
'aaq.cdn1-youku.com',
'aaw.cdn1-youku.com',
'aayun.com-tudou-com.com',
'acfun.iqiyi-kuyun.com',
'admin.512wx.com',
'agmeijucdnvideo.ixibeiren.com',
'agmjjzyi.ixibeiren.com',
'akdy.com-hs-akdy.com',
'aomen.com-youku-com-baidu-com.com',
'ap1-ws.yoipu.com',
'api.291pai.com',
'api.gcjv.pw',
'api.mmsid.cc',
'api.ourder.com',
'api.zeikcdn.com',
'api2.guiji365.com',
'asp.cntv.lxdns.com',
'baidu.com-l-baidu.com',
'baidu.com-v-baidu.com',
'baidu.com-y-qq.com',
'baiduyuan.veryys.com',
'bajiezy.yijiaren888.com',
'bajiezy3.yijiaren888.com',
'beijing.com-youku-com-baidu-com.com',
'bili.meijuzuida.com',
'bilibili.com-h-bilibili.com',
'bilibili.com-l-bilibili.com',
'bo.cnd-163.com',
'bo.cnd-letv.com',
'bo.cnd-tuduo.com',
'bo.cnd-youku.com',
'bo.ixx-baidu.com',
'bo.ixx-youku.com',
'bo.zuixin-youku.com',
'boba.52kuyun.com',
'bobo.kkpp.space',
'bobo.kukucdn.com',
'bobo.okokbo.com',
'bobo.zuixin-bo.com',
'bt.2tu.cc',
'ca-3.us-gov.top',
'cavo.com-live-ko-com-kovin.com',
'cdn-1.haku99.com',
'cdn-2.haku99.com',
'cdn-3.haku99.com',
'cdn-4.haku99.com',
'cdn.605-zy.com',
'cdn.605ziyuan.com',
'cdn.846u.com',
'cdn.cdn-letv.com',
'cdn.cdn-youku.com',
'cdn.cdnn-youku-com.com',
'cdn.cn2-163.com',
'cdn.cn2-baidu.com',
'cdn.cn2-letv.com',
'cdn.cn2-tuduo.com',
'cdn.cn2-youku.com',
'cdn.dydydy.win',
'cdn.kuyunbo.club',
'cdn.letv-cdn.com',
'cdn.namosilewwd012.com',
'cdn.okokyun.com',
'cdn.youku-letv.com',
'cdn.youku-letv.net',
'cdn.ziyuan605.com',
'cdn.zypbo.com',
'cdn.zypll.com',
'cdn1.chlpdq.com',
'cdn1.much365.com',
'cdn1.polaroidchina.com',
'cdn2.diexuewang.com',
'cdn2.polaroidchina.com',
'cdn2.yifanshuo.com',
'cdn3-baidu.dsd666.com',
'cdna.cdn-youku-cn.com',
'cdnb.cdn-youku-cn.com',
'cdnc.yzjxjxsc.com',
'cdnf.fsmalaban.com',
'cdnh.xzmuzhipin.com',
'cdnmp4.haku99.com',
'cdnmp5.haku99.com',
'cdnvideo.oywine.com',
'cdnvideo99.52homedecor.com',
'cdnvideos.52homedecor.com',
'cn-videos.dji.net',
'cn1.78love.cn',
'cn1.chinapellets.com',
'cn1.fa1244.cn',
'cn1.hnqxt.com',
'cn1.huhao123.cn',
'cn1.jinchengmm.com',
'cn1.kjzhan.cn',
'cn1.taobao-fanquan.com',
'cn1.yuhuaiedu.cn',
'cn2.163-cn2.com',
'cn2.78love.cn',
'cn2.888hu.cn',
'cn2.baidu-cn2.com',
'cn2.chinapellets.com',
'cn2.fa1244.cn',
'cn2.fa1255.cn',
'cn2.kjzhan.cn',
'cn2.letv-cn2.com',
'cn2.okokyun.com',
'cn2.senguangzhuangshi.com',
'cn2.tuduo-cn2.com',
'cn2.youku-cn2.com',
'cn2.zhongshanchemical.com',
'cn2.zuidadianying.com',
'cn2.zuixinbo.com',
'cn3.78love.cn',
'cn3.creativemas.cn',
'cn3.fa1255.cn',
'cn3.kjzhan.cn',
'cn3.yuhuaiedu.cn',
'cn3.zhongshanchemical.com',
'cn4.78love.cn',
'cn4.blcms.cn',
'cn4.zhongshanchemical.com',
'cn6.chinapellets.com',
'cn7.yuhuaiedu.cn',
'cnhttps',
'd15.ixunbo.com',
'dadi-bo.com',
'dadi-yun.com',
'dapian.video-yongjiu.com',
'db.131279.com',
'db.ucxzz.com',
'dbx1.tyswmp.com',
'dbx2.tyswmp.com',
'dbx3.tyswmp.com',
'dbx4.tyswmp.com',
'ddppnew1.135-cdn.com',
'djr-3.us-gov.top',
'dn-dji-videos.qbox.me',
'doubanzyv1.tyswmp.com',
'doubanzyv3.tyswmp.com',
'doubanzyv4.tyswmp.com',
'down.33k.cc',
'down.99i.Cc',
'down2.xunbo.cc',
'dvd.youyoupu.cn',
'dy.jsyunbf.com',
'dy2.jsyunbf.com',
'ees.cdn-youku.com',
'eey.com-baidu-com.com',
'eth.ppzuida.com',
'ethics.ppzuida.com',
'f2dvideo.hsjdfw.com',
'fuli.yazyzw.com',
'fuli.zuida-youku-le.com',
'gaoqing.bibi-baidu.com',
'gaoqing2.jongta.com',
'gaqoqingv.jongta.com',
'ginocdn.bybzj.com',
'gncdn.512wx.com',
'gncdn.wb699.com',
'gncdn3.jongta.com',
'gss3.baidu.com',
'h1.4animu.me',
'hair.jingpin88.com',
'hao.czybjz.com',
'hao.zuida-youku.com',
'hao123.com-youku-com-baidu-com.com',
'he-3.us-gov.top',
'hhf.com-letv-com.com',
'hkdy.com-hs-hkdy.com',
'hot.jingpin88.com',
'hr-3.us-gov.top',
'http',
'ifeng.com-l-ifeng.com',
'ifeng.com-live-lotv-com.com',
'ifeng.com-sohu.com',
'ifeng.com-v-ifeng.com',
'ifeng.com-y-baidu.com',
'imagetupian.nypd520.com',
'img.yanxibao.vip',
'ips.ifeng.com',
'iqiyi.com-l-iqiyi.com',
'iqiyi.com-t-iqiyi.com',
'iqiyi.com-v-iqiyi.com',
'iqiyi.com-youku-com.com',
'iqiyi.kuyun-bofang.com',
'iqiyi.qq-zuidazy.com',
'ixx.cnd-youku.com',
'j.fzwebgame.com',
'jin-3.us-gov.top',
'jx.diaolancn.com',
'jx.kechangju.com',
'kakazy-yun.com',
'kan.djie.pw',
'kbzy.zxziyuan-yun.com',
'kkav.com-live-ko-com-kovin.com',
'kkavy.com-live-lotv-com.com',
'kkm.cdn-youku.com',
'kotv.com-live-ko-com-kovin.com',
'leshi.iqiyi-kuyunzy.com',
'letv.com-live-ko-com-kovin.com',
'letv.com-live-lotv-com.com',
'letv.com-t-letv.com',
'letv.com-v-letv.com',
'letv.com-youku-com.com',
'logo.com-live-ko-com-kovin.com',
'lol.com-live-ko-com-kovin.com',
'long.com-live-lotv-com.com',
'luntu.com-tudou-com.com',
'm.baidu.com.email-qqcom-taobaotianmao-baidu.club',
'm3u8.91panzy.com',
'm3u8.mmsid.cc',
'me.guiji365.com',
'meigui.qqqq-kuyun.com',
'meiju4.meiju2018.com',
'mev.com-baidu-com.com',
'mizi.19840912.com',
'mp.hostla.top',
'mp.hostla.tophttps',
'mp4.512wx.com',
'my.tv.sohu.com',
'nb.yunjiexi.site',
'new.jsyunbf.com',
'new.playurl.net',
'oltv.com-live-ko-com-kovin.com',
'p.eeoai.com',
'pan.baidu.com',
'play.168168bo.com',
'play.169169bo.com',
'play.170170bo.com',
'play.4xtware.com',
'play.999kkplay.com',
'play.99thingz.com',
'play.bfdzym.com',
'play.bo159159.com',
'play.cdmbo.com',
'play.dapaobo.com',
'play.dfdkmj.com',
'play.quankan.tv',
'playboy9988.com',
'pp.605-zy.com',
'pp.605ziyuan.com',
'pp.dadadaplay.club',
'pp.dfdsafsda65465461654.com',
'pptv.com-h-pptv.com',
'pptv.com-l-pptv.com',
'qietv-play.qiecdn.com',
'qiezsp889911.chuantouchi.com',
'qq.99ffcv.com',
'qq.com-h-ifeng.com',
'qq.com-l-qq.com',
'qq.com-v-qq.com',
'qq.com-y-ifeng.com',
'qq.ffg99.pw',
'qsv.jxckplayer.xyz',
'rzlkq.com',
's.88jsf.com',
's1.ly6080.vip',
's2.afast.ws',
's2.tywj.vip',
'sat.jav101.com',
'sina.com-h-sina.com',
'sina.com-l-sina.com',
'sina.com-youku-com-baidu-com.com',
'sina.jingpinxiazai.com',
'sinacdn-baidu.com',
'sohu.com-v-sohu.com',
'sohu.zuida-163sina.com',
'soso.com-youku-com-baidu-com.com',
'ssd.cdn1-youku.com',
'ssf.cdn1-youku.com',
'ssg.cdn1-youku.com',
'st1.mediacnt.com',
'su-3.us-gov.top',
'tb-video.bdstatic.com',
'tdkdzsw.com',
'tudou.com-l-tudou.com',
'tudou.com-v-tudou.com',
'tudou.com-youku-com.com',
'tv.sohu.com',
'u.360.v.btime.com',
'us1.sogou-cdn.com',
'uui.com-letv-com.com',
'v-6-cn.com',
'v-acfun.com',
'v-bilibili.com',
'v-cntv-cn.com',
'v-douban.com',
'v-ifeng.com',
'v-kankan.com',
'v-mtime.com',
'v-pptv.com',
'v-tudou.com',
'v.88jsf.com',
'v.gqzyz.com',
'v.oywine.com',
'v.xw0371.com',
'v.yongjiu8.com',
'v.yongjiujiexi.com',
'v1.165zy.com',
'v1.438vip.com',
'v1.679961.com',
'v1.benbi123.com',
'v1.dbdycj.com',
'v1.tywj.vip',
'v1.zhiguoer.com',
'v2.165zy.com',
'v2.438vip.com',
'v2.679961.com',
'v2.benbi123.com',
'v2.tywj.vip',
'v2.xw0371.com',
'v2.yongjiujiexi.com',
'v2.zhiguoer.com',
'v3.165zy.com',
'v3.438vip.com',
'v3.679961.com',
'v3.benbi123.com',
'v3.tywj.vip',
'v3.yongjiujiexi.com',
'v3.zhiguoer.com',
'v4.165zy.com',
'v4.1sapp.com',
'v4.438vip.com',
'v4.679961.com',
'v4.benbi123.com',
'v5.165zy.com',
'v5.438vip.com',
'v5.679961.com',
'v5.zhiguoer.com',
'v6.165zy.com',
'v6.438vip.com',
'v6.679961.com',
'v7.438vip.com',
'v8.yongjiu8.com',
'vd3.bdstatic.com',
'video.caomin5168.com',
'video.djie.pw',
'video.dnsoy.com',
'video.feimanzb.com',
'video.fjhps.com',
'video.fxsdp.com',
'video.gujianzhixiang.com',
'video.jiagew762.com',
'video.letv-cdn.com',
'video.lllwo2o.com',
'video.nuobz.com',
'video.qqdaiguaxitong.com',
'video.suyunbo.tv',
'video.tvbt.sj.360.cn',
'video.veryys.com',
'video.ybzy.me',
'video.yjf138.com',
'video.ynianyongheng.com',
'video.zuidajiexi.com',
'video1.ddbtss.com',
'video1.dnsoy.com',
'video1.feimanzb.com',
'video1.fxsdp.com',
'video1.rhsj520.com',
'video1.tripsmc.com',
'video2.caomin5168.com',
'video2.ddbtss.com',
'video2.dnsoy.com',
'video2.fxsdp.com']


def myAlign(string, length=0):
    if length == 0:
        return string
    slen = len(string)
    re = string
    if isinstance(string, str):
        placeholder = ' '
    else:
        placeholder = u'ã€€'
    while slen < length:
        re += placeholder
        slen += 1
    return re


def parse(pingtexts):
    for line in pingtexts:
        if line.count("rtt min") > 0:
            match = reg.search(line)
            return match.group(2)
    return 10000

if __name__ == '__main__':
    errorList = []
    for item in domainList:
        cmd = 'ping  -c 2 -w 2 %s' % (item)
        lines = os.popen(cmd).readlines()
        num = parse(lines)
        if num == 10000:
            errorList.append(item)
    print errorList
    sys.exit()
