# -*- coding: utf-8 -*-
from common import db_ops
from common import httputil
import os
import re
import sys
reload(sys)
sys.setdefaultencoding('utf8')
reg = re.compile(
    r"rtt min/avg/max/mdev = ([0-9\.]+)/([0-9\.]+)/([0-9\.]+)")

domainList=['cdn.846u.com',
'videocdn.dlyilian.com',
'videocdn2.quweikm.com',
'video.feimanzb.com',
'video.lllwo2o.com',
'bo.cdn-dns-youku.com',
'ok.yun-cdnkan.com',
'video1.feimanzb.com',
'vod.6606686.com',
'video.yeseba.vip',
'192.240.106.50',
'1mp4.11bubu.com',
'2016mp4.11bubu.com',
'5mp4.11bubu.com',
'201606mp4.11bubu.com',
'4mp4.11bubu.com',
'201605mp4.11bubu.com',
'py.xhsyun.xyz',
'www.avjdvideo.com',
'play.169169bo.com',
'video1.rhsj520.com',
'videocdnbaidu.rhsj520.com',
'dadi-yun.com',
'video2.jiagew762.com',
'play.cdmbo.com',
'play.bfdzym.com',
'qiyucdn.com',
'play.168168bo.com',
'www.fkc123.net',
'video.caomin5168.com',
'cdn3-baidu.dsd666.com',
'dadi-bo.com',
'video.yjf138.com',
'video.jiagew762.com',
'cdn1.much365.com',
'bo.ixx-baidu.com',
'videocdn.quweikm.com',
'axhd.xyz',
'www.49731.pw',
'avjdvideo.com',
'v.10744445.com',
'cdn2-youku.jshuajiu.com',
'video.fxsdp.com',
'youku.com-iqiyi.com',
'youku.com-bilibili.com',
'youma1.sepapa.top',
'wuma1.sepapa.top',
'cdn2.diexuewang.com',
'cdnh.xzmuzhipin.com',
'qq.com-y-ifeng.com',
'yun.iixx-yun.com',
'www.ava120.com',
'video1.fxsdp.com',
'video2.ddbtss.com',
'zy0.xstuff.cn',
'sp.8app.net',
'video.gujianzhixiang.com',
'm3u8.91panzy.com',
'www.91gxflvip.com',
'cdn1-youku.akbvip.com',
'video.ypshe2.info',
'5.9.40.198',
'cdn.zyw605.org',
'cdn1.polaroidchina.com',
'cdn2.polaroidchina.com',
'v-pptv.com',
'v-tudou.com',
'bi.xunleief.com',
'cdn.801zy.com',
'video1.tripsmc.com',
'cdn5.beiyun100.com',
'hp.cdnbyte.top',
'cdnf.fsmalaban.com',
'cdn.812zy.com',
'bi.xunleiab.com',
'play.dapaobo.com',
'v.tscdn88.com',
'bi.xunleicd.com',
'bi.xunleijk.com',
'cdn.yt1231.com',
'www.bayi8868.com',
'ginocdn.bybzj.com',
'v.oywine.com',
'video.hfhr.pw',
'xxx011.com',
'olda.avjdwcdn.com',
'v.taosecdn.com',
'm3u8.cdnpan.com',
'oldb.avjdwcdn.com',
'cdn.800zy99.com',
'192.240.120.34',
'llvideo.top',
'cdn1.tan9696.com',
'139.162.107.150',
'yunsp.ypshe.vip',
'video.dnsoy.com',
'cdn.90hzyw.com',
'jzavji.com',
'img.feimanzb.com',
'2mp4.11bubu.com',
'7mp4.11bubu.com',
'jzav-cloudflare.club',
'6mp4.11bubu.com',
'1mp4.02bobo.com',
'8mp4.02bobo.com',
'20mp4.02bobo.com',
'10mp4.02bobo.com',
'9mp4.02bobo.com',
'2016mp4.02bobo.com',
'video2.caomin5168.com',
'video3.tripsmc.com',
'video2.tripsmc.com',
'video1.dnsoy.com',
'video2.dnsoy.com',
'video.qqdaiguaxitong.com',
'cdnvideos.52homedecor.com',
'video1.ddbtss.com',
'cdnvideo99.52homedecor.com',
'video2.gujianzhixiang.com',
'video2.fxsdp.com',
'play.wuyecdn7.com',
'www.vod.nkanav1.com',
'gs.xxx-ooo.xyz',
'video.ynianyongheng.com',
'cdn1.zyw605.org',
'cdn2.zyw605.org',
'imagetupian.nypd520.com',
'play.wuyecdn1.com',
'play.wuyecdn9.com',
'play.wuyecdn3.com',
'www.vod.nkanav2.com',
'videos.yuncdnkan.com',
'play.wuyecdn4.com',
'play.wuyecdn2.com',
'ck.c8c3.com',
'cdn5-video.shanxigemei.com',
'video2.bamintese.com',
'play.bo159159.com',
'cdnk.kaifengaudio.com',
'lajiao-bo.com',
'videocdn.hndtl.com',
'ifeng.com-y-baidu.com',
'sezhanwang.net',
'144496.com',
'cdn.gc958.com',
'qq.com-h-ifeng.com',
'abc.baiducomcloud.xyz',
'cdn790.91youku-iqiyi.com',
'm3u8.lililitv.com',
'video1.yancheng85.com',
'cdnc.yzjxjxsc.com',
'baidu.com-y-qq.com',
'mp4.zzvip.tv',
'videox3.ju1zhe.com',
'cdn1.91baimi.com',
'k.syasn.com',
'yaseav.cn',
'104.233.198.193',
'video.ofourl.com',
'v.921porn.com',
'haopron.in',
'dsxzykk.dsxdy66.com',
'new.jsyunbf.com',
'www.xunleill.com',
'sp.4erodesign.com',
'cdn.thd8899.com',
'www.iqiyiaadd.com',
'91.196.222.18',
'185.232.15.107',
'vo.ppptoppp.com',
'm3u801.moviessl001.com',
'201806.53didi.com',
'201712mp4.89soso.com',
'2017mp4.54popo.com',
'8mp4.11bubu.com',
'2017mp4.11bubu.com',
'9mp4.11bubu.com',
'20mp4.11bubu.com',
'm3u8.46cdn.com',
'xin.170du.com',
'video2.feimanzb.com',
'https',
'video.luersuo.com',
'2017mp4.14popo.com',
'10mp4.11bubu.com',
'v.8xzizizi1.com',
'ck.ckbfq.com',
'hd1.o0omvo0o.com',
'pp.dfdsafsda65465461654.com',
'cdn160.91youku-iqiyi.com',
'youku.com-q-youku.com',
'youku.cdn-baidu-com.com',
'cdn161.91youku-iqiyi.com',
'cdn142.91youku-iqiyi.com',
'mp.hostla.top',
'h1.4animu.me',
'156zy.suboyouku.com',
'cdn.letv-cdn.com',
'156zy.suyunbo.tv',
'youku163.zuida-bofang.com',
'cn2.zuidadianying.com',
'baiduyuan.veryys.com',
'www2.yuboyun.com',
'zy.512wx.com',
'52dy.hanju2017.com',
'cdn.kuyunbo.club',
'cdn.okokyun.com',
'fuli.zuida-youku-le.com',
'video.veryys.com',
'www4.yuboyun.com',
'video.letv-cdn.com',
'hair.jingpin88.com',
'www.bilibili.com',
'v.yongjiu8.com',
'gncdn.139xm.com',
'zuikzy.wb699.com',
'bo.cnd-youku.com',
'bo.cnd-letv.com',
'cn2.163-cn2.com',
'bo.cnd-163.com',
'bo.cnd-tuduo.com',
'video.suyunbo.tv',
'sohu.zuida-163sina.com',
'yingshi.yazyzw.com',
'yong.yongjiu6.com',
'cdn165.91youku-iqiyi.com',
'f2dvideo.hsjdfw.com',
'youku.com-y-youku.com',
'v6.679961.com',
'v4.679961.com',
'v3.679961.com',
'v5.679961.com',
'bobo.okokbo.com',
'cn2.okokyun.com',
'boba.52kuyun.com',
'v1.679961.com',
'v2.679961.com',
'v-kankan.com',
'ixx.cnd-youku.com',
'104.233.234.88',
'video.tvbt.sj.360.cn',
'videos2.jsyunbf.com',
'www3.yuboyun.com',
'j.fzwebgame.com',
'bobo.kkpp.space',
'cdn154.91youku-iqiyi.com',
'v1.tywj.vip',
'hao.zuida-youku.com',
'dy2.jsyunbf.com',
'm.baidu.com.email-qqcom-taobaotianmao-baidu.club',
'cdn193.91youku-iqiyi.com',
'cdn152.91youku-iqiyi.com',
'208.77.44.249',
'205.209.142.85',
'cdn.cdn-letv.com',
'cdn.cdnn-youku-com.com',
'cdn.cdn-youku.com',
'cdnb.cdn-youku-cn.com',
'cdna.cdn-youku-cn.com',
'67.229.133.246',
'youku.com-youku-com-baidu-com.com',
'beijing.com-youku-com-baidu-com.com',
'ifeng.com-sohu.com',
'www.freecnmove.com',
'soso.com-youku-com-baidu-com.com',
'letv.com-youku-com.com',
'haotv.com-live-lotv-com.com',
'youku.com-live-lotv-com.com',
'sina.com-youku-com-baidu-com.com',
'logo.com-live-ko-com-kovin.com',
'long.com-live-lotv-com.com',
'oltv.com-live-ko-com-kovin.com',
'kkavy.com-live-lotv-com.com',
'ifeng.com-live-lotv-com.com',
'aomen.com-youku-com-baidu-com.com',
'xinjiang.com-youku-com-baidu-com.com',
'lol.com-live-ko-com-kovin.com',
'iqiyi.com-youku-com.com',
'cn2.youku-cn2.com',
'cn2.baidu-cn2.com',
'cn2.tuduo-cn2.com',
'cn2.letv-cn2.com',
'cavo.com-live-ko-com-kovin.com',
'youku.com-youku-com.com',
'youku.com-live-vincet-com.com',
'app.com-youku-com-baidu.com',
'www.mvmyusa.com',
'hao123.com-youku-com-baidu-com.com',
'cloud.com-youku-com.com',
'youkucn.com-youku-com.com',
'letv.com-live-lotv-com.com',
'youku.com-tudou-com.com',
'baidu.com-live-vincet-com.com',
'bin.com-youku-com-baidu.com',
'184.83.6.212',
'koiv.com-live-ko-com-kovin.com',
'vemo.com-live-ko-com-kovin.com',
'iqiyi.com-live-vincet-com.com',
'shandong.com-live-vincet-com.com',
'liaoning.com-live-vincet-com.com',
'shanxi.com-live-vincet-com.com',
'spon.com-live-ko-com-kovin.com',
'kkav.com-live-ko-com-kovin.com',
'letv.com-live-ko-com-kovin.com',
'kotv.com-live-ko-com-kovin.com',
'zhejiang.com-live-lotv-com.com',
'open.com-youku-com.com',
'www.fun.tv',
'tdkdzsw.com',
'991video.com',
'play.4xtware.com',
'v5.zhiguoer.com',
'v2.zhiguoer.com',
'v1.zhiguoer.com',
'tv.sohu.com',
'eth.ppzuida.com',
'cdn2.yifanshuo.com',
'admin.512wx.com',
'vip.okokbo.com',
's2.afast.ws',
'fuli.yazyzw.com',
'120.52.51.99',
'www.7mainst.net',
'my.tv.sohu.com',
'yj.yongjiu6.com',
'www1.yuboyun.com',
'su.jjf123.com',
'play.170170bo.com',
'video.djie.pw',
'113.209.119.3',
'131.pushsoft.net',
'v4.438vip.com',
'leshi.iqiyi-kuyunzy.com',
'zy.kakazy-yun.com',
'gaoqing2.jongta.com',
'zuikyz.wb699.com',
'videos.fjhps.com',
'video.fjhps.com',
'hao.czybjz.com',
'youku.kuyun-leshi.com',
'meigui.qqqq-kuyun.com',
'sina.jingpinxiazai.com',
'acfun.iqiyi-kuyun.com',
'vip888.kuyun99.com',
'vip.kuyun99.com',
'vs1.baduziyuan.com',
'gcs-vimeo.akamaized.net',
'cdn166.91youku-iqiyi.com',
'which4.r.worldssl.net',
'which3.r.worldssl.net',
'which2.r.worldssl.net',
'which1.r.worldssl.net',
'which0.r.worldssl.net',
'which5.r.worldssl.net',
'iqiyi.qq-zuidazy.com',
'bili.meijuzuida.com',
'gaoqing.bibi-baidu.com',
'kbzy.zxziyuan-yun.com',
'youku.com-dy2-youku.com',
'yun.kubo-zy-youku.com',
'yun.kakazy-yun.com',
'v6.438vip.com',
'yun.zxziyuan-yun.com',
'hkdy.com-hs-hkdy.com',
'v3.yongjiujiexi.com',
'cdn.youku-letv.com',
'vip.94kuyun.com',
'bobo.kukucdn.com',
'cdn.zypbo.com',
'zy.zxziyuan-yun.com',
'kakazy-yun.com',
'youku.iqiyi-yongjiu.com',
'youku.com-www-163.com',
'v5.438vip.com',
'v8.yongjiu8.com',
'zaixian.jingpin88.com',
'cdn-5.haku99.com',
'v-acfun.com',
'cdn-6.haku99.com',
'zkgn.wb699.com',
'st1.mediacnt.com',
'youku.com-dy3-youku.com',
'hot.jingpin88.com',
'video.nuobz.com',
'zouyu.laohu-zuida.com',
'youku.com-dy1-youku.com',
'cdn.zypll.com',
'vip.yingshidaqian.com',
'56.com-t-56.com',
'youku.com-okzy.com',
'dapian.video-yongjiu.com',
'zk.603ee.com',
'dbx3.tyswmp.com',
'www.153zy.com',
'v3.165zy.com',
'youku.com-a-youku.com',
'api.zeikcdn.com',
'v4.165zy.com',
'dbx4.tyswmp.com',
'zk.wb699.com',
'zuikzy.win7i.com',
'v6.165zy.com',
'bilibili.com-h-bilibili.com',
'zuikzy.603ee.com',
'tudou.com-l-tudou.com',
'gaqoqingv.jongta.com',
'sohu.com-v-sohu.com',
'iqiyi.com-l-iqiyi.com',
'youku.com-l-youku.com',
'youku.com-t-youku.com',
'doubanzyv1.tyswmp.com',
'youku.com-i-youku.com',
'dbx2.tyswmp.com',
'zuikzy.yc370.com',
'v2.yongjiujiexi.com',
'iqiyi.com-v-iqiyi.com',
'163.com-l-163.com',
'gncdn.wb699.com',
'letv.com-v-letv.com',
'v2.165zy.com',
'zuikzy.51moca.com',
'v1.165zy.com',
'v.gqzyz.com',
'v.yongjiujiexi.com',
'sina.com-l-sina.com',
'doubanzyv3.tyswmp.com',
'gncdn3.jongta.com',
'youku.cdn1-letv.com',
'youku.cdn-56.com',
'baidu.com-l-baidu.com',
'iqiyi.com-t-iqiyi.com',
'v.88jsf.com',
's.88jsf.com',
'bilibili.com-l-bilibili.com',
'doubanzyv4.tyswmp.com',
'v5.165zy.com',
'ifeng.com-l-ifeng.com',
'youku.cdn-tudou.com',
'letv.com-t-letv.com',
'pp.aism.cc',
'asp.cntv.lxdns.com',
'dy.jsyunbf.com',
'videos4.jsyunbf.com',
'vip.okzybo.com',
'yun.kubozy-youku-163.com',
'zy.kubozy-sohu-360-sogou.com',
'zy.kubozy-youku-163-aiqi.com',
'cdn.605-zy.com',
'pptv.com-l-pptv.com',
'qq.com-v-qq.com',
'api.ourder.com']


def myAlign(string, length=0):
    if length == 0:
        return string
    slen = len(string)
    re = string
    if isinstance(string, str):
        placeholder = ' '
    else:
        placeholder = u'ã€€'
    while slen < length:
        re += placeholder
        slen += 1
    return re


def parse(pingtexts):
    for line in pingtexts:
        if line.count("rtt min") > 0:
            match = reg.search(line)
            return match.group(2)
    return 10000

if __name__ == '__main__':
    errorList = []
    for item in domainList:
        cmd = 'ping  -c 2 -w 2 %s' % (item)
        lines = os.popen(cmd).readlines()
        num = parse(lines)
        if num == 10000:
            errorList.append(item)
    print errorList
    sys.exit()
